# 配置 Google OAuth 同意屏幕

本文档说明如何配置 Google OAuth 同意屏幕，让登录时显示应用名称而不是 Supabase 的域名。

## 问题描述

当前登录时显示：

```text
选择账号
以继续前往cyckxwagpdsswfwgcwrd.supabase.co
```

期望显示：

```text
选择账号
以继续前往 Smart Domain Generator
```

## 解决步骤

### 1. 登录 Google Cloud Console

访问 [Google Cloud Console](https://console.cloud.google.com/)

### 2. 选择你的项目

确保选择了正确的项目（包含 OAuth 2.0 客户端 ID 的项目）

### 3. 配置 OAuth 同意屏幕

1. 在左侧菜单中，进入 **API 和服务** → **OAuth 同意屏幕**

2. 如果还没有配置过，选择用户类型：
   - **内部**：仅限你的 Google Workspace 组织内的用户
   - **外部**：任何拥有 Google 账号的用户（推荐）

3. 填写应用信息：

   **必填信息：**
   - **应用名称**：Smart Domain Generator（或你想要的名称）
   - **用户支持电子邮件**：选择你的邮箱
   - **开发者联系信息**：填写你的邮箱

   **可选但推荐填写：**
   - **应用 Logo**：上传应用图标（建议 120x120 像素）
   - **应用主页**：<https://smart-domain.com>
   - **隐私政策链接**：<https://smart-domain.com/privacy>
   - **服务条款链接**：<https://smart-domain.com/terms>

4. 点击 **保存并继续**

### 4. 配置范围（Scopes）

1. 点击 **添加或移除范围**
2. 确保至少选择了以下范围：
   - `.../auth/userinfo.email`
   - `.../auth/userinfo.profile`
3. 点击 **更新** → **保存并继续**

### 5. 测试用户（仅外部用户类型需要）

如果选择了外部用户类型且应用还在测试阶段：

1. 添加测试用户的邮箱
2. 这些用户可以在应用发布前使用 OAuth 登录

### 6. 审核并发布

1. 检查所有信息是否正确
2. 如果是外部应用，可能需要提交审核
3. 测试阶段可以先不发布，使用测试用户

## 验证配置

配置完成后，清除浏览器缓存并重新测试登录，应该能看到：

- 显示你配置的应用名称
- 显示应用 Logo（如果上传了）
- 更专业的同意屏幕界面

## 注意事项

1. **更改立即生效**：OAuth 同意屏幕的更改通常立即生效
2. **审核时间**：如果需要审核，可能需要几天时间
3. **测试阶段**：在测试阶段，只有添加的测试用户可以登录
4. **发布应用**：准备好后，可以将应用发布供所有用户使用

## 常见问题

### 还是显示 Supabase 域名？

- 清除浏览器缓存和 Cookie
- 在隐私窗口中测试
- 确保保存了所有更改

### 需要审核吗？

- 基础的用户信息范围通常不需要审核
- 如果请求敏感范围，Google 会要求审核
- 测试阶段可以先使用测试用户

### Logo 要求

- 格式：PNG、JPG 或 GIF
- 尺寸：120x120 到 180x180 像素
- 文件大小：最大 1MB
